{"version":3,"sources":["components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","utils/api.js","utils/utils.js","hooks/useFormWithValidation.js","components/PopupInput.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/App.js","serviceWorker.js","index.js","images/logo.svg"],"names":["Header","className","href","src","logo","alt","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","_id","useContext","isOwn","owner","isLiked","likes","some","i","link","name","onClick","type","aria-label","length","Main","onEditAvatar","onEditProfile","onAddPlace","cards","isCardsLoading","about","avatar","map","key","Footer","ImagePopup","onClose","isOpen","api","baseUrl","headers","this","_url","_headers","response","ok","json","Promise","reject","status","fetch","then","res","_handleResponse","formData","method","body","JSON","stringify","id","like","authorization","useFormWithValidation","useState","values","setValues","errors","setErrors","isValid","setIsValid","resetForm","useCallback","newValues","newErrors","newIsValid","handleChange","event","target","value","validationMessage","closest","checkValidity","PopupInput","changeValue","rest","onChange","e","PopupWithForm","forwardRef","ref","title","children","onSubmit","buttonText","action","noValidate","disabled","EditProfilePopup","onUpdateUser","isSending","currentUser","createRef","useEffect","current","preventDefault","placeholder","required","minLength","maxLength","autoComplete","EditAvatarPopup","onUpdateAvatar","AddPlacePopup","App","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","cardDelete","setCardDelete","isDeletteReqPopupOpen","setIsDeletteReqPopupOpen","setIsCardsLoading","isDataSending","setDataSending","closeAllPopups","getInitialCards","cardElements","catch","err","console","error","finally","getUserInfo","user","escFunction","keyCode","document","addEventListener","removeEventListener","Provider","changeLikeCardStatus","newCard","newCards","c","changeAvatar","update","setUserInfo","addCard","isEnabled","removeCard","filter","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister","message","module","exports"],"mappings":"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","file":"static/js/main.a1621805.chunk.js","sourcesContent":["import React from 'react';\r\nimport logo from '../images/logo.svg';\r\n\r\nfunction Header() {\r\n  return (\r\n    <header className=\"header\">\r\n      <a href=\"./\" className=\"header__link\">\r\n        <img src={logo} alt=\"Логотип сайта\" className=\"header__logo\" />\r\n      </a>{' '}\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Card({ card, onCardClick, onCardLike, onCardDelete }) {\r\n  const { _id } = React.useContext(CurrentUserContext);\r\n\r\n  function handleClick() {\r\n    onCardClick(card);\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    onCardLike(card);\r\n  }\r\n\r\n  function handleDeleteClick() {\r\n    onCardDelete(card);\r\n  }\r\n\r\n  const isOwn = card.owner._id === _id;\r\n  const isLiked = card.likes.some((i) => i._id === _id);\r\n\r\n  return (\r\n    <li className=\"places__items\">\r\n      <img\r\n        src={card.link}\r\n        alt={`Лучшая фотография ${card.name}`}\r\n        className=\"places__image\"\r\n        onClick={handleClick}\r\n      />\r\n      <div className=\"places__name\">\r\n        <h2 className=\"places__title\">{card.name}</h2>\r\n        <div className=\"places__like\">\r\n          <button\r\n            className={`button places__button-like ${\r\n              isLiked ? 'places__button-like_enabled' : ''\r\n            }`}\r\n            type=\"button\"\r\n            aria-label=\"Поставить лайк месту\"\r\n            onClick={handleLikeClick}\r\n          ></button>\r\n          <p className=\"places__like-counter\">{card.likes.length}</p>\r\n        </div>\r\n      </div>\r\n      {isOwn ? (\r\n        <button\r\n          className=\"button places__button-delete\"\r\n          type=\"button\"\r\n          aria-label=\"Удалить карточку\"\r\n          onClick={handleDeleteClick}\r\n        ></button>\r\n      ) : (\r\n        ''\r\n      )}\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default Card;\r\n","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport Card from './Card';\r\n\r\nfunction Main({\r\n  onEditAvatar,\r\n  onEditProfile,\r\n  onAddPlace,\r\n  onCardClick,\r\n  cards,\r\n  onCardLike,\r\n  onCardDelete,\r\n  isCardsLoading,\r\n}) {\r\n  const { name, about, avatar } = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"content\">\r\n      <section className=\"profile\">\r\n        <button\r\n          type=\"button\"\r\n          onClick={onEditAvatar}\r\n          className=\"button button_non-opacity profile__button-avatar\"\r\n        >\r\n          <img\r\n            className=\"profile__avatar\"\r\n            src={avatar}\r\n            alt=\"Аватар пользователя\"\r\n          />\r\n        </button>\r\n        <div className=\"profile__info\">\r\n          <h1 className=\"profile__user-name\">{name}</h1>\r\n          <button\r\n            className=\"button profile__user-edit-button\"\r\n            onClick={onEditProfile}\r\n            type=\"button\"\r\n            aria-label=\"Редактировать информацию пользователя\"\r\n          ></button>\r\n          <p className=\"profile__user-job\">{about}</p>\r\n        </div>\r\n        <button\r\n          className=\"button profile__add-button\"\r\n          type=\"button\"\r\n          onClick={onAddPlace}\r\n          aria-label=\"Добавить информацию\"\r\n        ></button>\r\n      </section>\r\n      <section className=\"places\">\r\n        <ul className=\"places__cards\">\r\n          {isCardsLoading ? (\r\n            <div className=\"places__loading-spinner\">\r\n              <div></div>\r\n              <div></div>\r\n              <div></div>\r\n              <div></div>\r\n              <div></div>\r\n              <div></div>\r\n              <div></div>\r\n              <div></div>\r\n              <div></div>\r\n              <div></div>\r\n              <div></div>\r\n              <div></div>\r\n            </div>\r\n          ) : (\r\n            cards.map((card) => (\r\n              <Card\r\n                key={card._id}\r\n                card={card}\r\n                onCardLike={onCardLike}\r\n                onCardDelete={onCardDelete}\r\n                onCardClick={onCardClick}\r\n              />\r\n            ))\r\n          )}\r\n        </ul>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","import React from 'react';\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","import React from 'react';\r\n\r\nfunction ImagePopup({ card, onClose }) {\r\n  return (\r\n    <section\r\n      className={`popup popup_image-places ${\r\n        card.isOpen ? 'popup_opened' : ''\r\n      }`}\r\n    >\r\n      <div\r\n        onClick={onClose}\r\n        className=\"popup__overlay popup__overlay_image-places\"\r\n      ></div>\r\n      <figure className=\"popup__places\">\r\n        <img\r\n          src={card.link}\r\n          alt={`Лучшая фотография ${card.name}`}\r\n          className=\"popup__places-image\"\r\n        />\r\n        <figcaption className=\"popup__places-title\">{card.name}</figcaption>\r\n        <button\r\n          className=\"button popup__close-button popup__close-button_image-places\"\r\n          type=\"button\"\r\n          aria-label=\"Закрыть окно\"\r\n          onClick={onClose}\r\n        ></button>\r\n      </figure>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;\r\n","import {\r\n  currentUser\r\n} from \"./utils\";\r\n\r\nclass Api {\r\n  constructor({\r\n    baseUrl,\r\n    headers\r\n  }) {\r\n    this._url = baseUrl;\r\n    this._headers = headers;\r\n  }\r\n\r\n  _handleResponse(response) {\r\n    if (response.ok) {\r\n      return response.json();\r\n    }\r\n    return Promise.reject(`Ошибка: ${response.status}`);\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._url}cards`, {\r\n      headers: this._headers,\r\n    }).then((res) => this._handleResponse(res));\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(`${this._url}users/me`, {\r\n      headers: this._headers,\r\n    }).then((res) => this._handleResponse(res));\r\n  }\r\n\r\n  setUserInfo(formData) {\r\n    return fetch(`${this._url}users/me`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: formData.name,\r\n        about: formData.about,\r\n      }),\r\n    }).then((res) => this._handleResponse(res));\r\n  }\r\n\r\n  addCard(formData) {\r\n    return fetch(`${this._url}cards`, {\r\n      method: 'POST',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: formData.name,\r\n        link: formData.link,\r\n      }),\r\n    }).then((res) => this._handleResponse(res));\r\n  }\r\n\r\n  removeCard(id) {\r\n    return fetch(`${this._url}cards/${id}`, {\r\n      method: 'DELETE',\r\n      headers: this._headers,\r\n    }).then((res) => this._handleResponse(res));\r\n  }\r\n\r\n  addLike(id) {\r\n    return fetch(`${this._url}cards/likes/${id}`, {\r\n      method: 'PUT',\r\n      headers: this._headers,\r\n    }).then((res) => this._handleResponse(res));\r\n  }\r\n\r\n  removeLike(id) {\r\n    return fetch(`${this._url}cards/likes/${id}`, {\r\n      method: 'DELETE',\r\n      headers: this._headers,\r\n    }).then((res) => this._handleResponse(res));\r\n  }\r\n\r\n  changeAvatar(formData) {\r\n    return fetch(`${this._url}users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        avatar: formData.avatar,\r\n      }),\r\n    }).then((res) => this._handleResponse(res));\r\n  }\r\n\r\n  changeLikeCardStatus(id, like) {\r\n    return fetch(`${this._url}cards/likes/${id}`, {\r\n      method: like ? 'PUT' : 'DELETE',\r\n      headers: this._headers,\r\n    }).then((res) => this._handleResponse(res));\r\n  }\r\n}\r\n\r\nconst api = new Api(currentUser);\r\nexport default api;","export const currentUser = {\r\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-14/',\r\n  headers: {\r\n    authorization: '868762c3-88e2-4bf0-b9ab-a6e82ee7a617',\r\n    'Content-Type': 'application/json',\r\n  },\r\n};","import { useCallback, useState } from 'react';\r\n\r\nexport function useFormWithValidation() {\r\n  const [values, setValues] = useState({});\r\n  const [errors, setErrors] = useState({});\r\n  const [isValid, setIsValid] = useState({});\r\n\r\n  const handleChange = (event) => {\r\n    const target = event.target;\r\n    const name = target.name;\r\n    const value = target.value;\r\n    setValues({ ...values, [name]: value });\r\n    setErrors({ ...errors, [name]: target.validationMessage });\r\n    setIsValid(target.closest('form').checkValidity());\r\n  };\r\n\r\n  const resetForm = useCallback(\r\n    (newValues = {}, newErrors = {}, newIsValid = false) => {\r\n      setValues(newValues);\r\n      setErrors(newErrors);\r\n      setIsValid(newIsValid);\r\n    },\r\n    [setValues, setErrors, setIsValid]\r\n  );\r\n\r\n  return { values, handleChange, errors, isValid, resetForm, setIsValid };\r\n}\r\n","import React from 'react';\r\n\r\nconst PopupInput = ({\r\n  changeValue,\r\n  className,\r\n  name,\r\n  value,\r\n  validationMessage,\r\n  ...rest\r\n}) => {\r\n  function handleInputChange(e) {\r\n    changeValue(e);\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <input\r\n        {...rest}\r\n        className={`popup__input ${className}`}\r\n        name={name}\r\n        onChange={handleInputChange}\r\n        value={value || ''}\r\n      />\r\n      <span className=\"popup__error popup__error_visible\">\r\n        {validationMessage || ''}\r\n      </span>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PopupInput;\r\n","import React, { forwardRef } from 'react';\r\n\r\nconst PopupWithForm = forwardRef(\r\n  (\r\n    {\r\n      isValid = true,\r\n      name,\r\n      title,\r\n      children,\r\n      isOpen,\r\n      onClose,\r\n      onSubmit,\r\n      buttonText,\r\n    },\r\n    ref\r\n  ) => {\r\n    return (\r\n      <section\r\n        className={`popup popup_${name} ${isOpen ? 'popup_opened' : ''}`}\r\n      >\r\n        <div\r\n          onClick={onClose}\r\n          className={`popup__overlay poup__overlay_${name}`}\r\n        ></div>\r\n        <form\r\n          ref={ref}\r\n          className={`popup__form popup__form_${name}`}\r\n          name={name}\r\n          action=\"#\"\r\n          onSubmit={onSubmit}\r\n          noValidate\r\n        >\r\n          <h3 className=\"popup__title\">{title}</h3>\r\n          <fieldset className=\"popup__input-container\">{children}</fieldset>\r\n          <button\r\n            className={`button popup__submit-button popup__button-profile ${\r\n              isValid ? '' : 'popup__submit-button_disabled'\r\n            }`}\r\n            type=\"submit\"\r\n            disabled={!isValid}\r\n          >\r\n            {buttonText || 'Сохранить'}\r\n          </button>\r\n          <button\r\n            className={`button popup__close-button popup__close-button_${name}`}\r\n            onClick={onClose}\r\n            type=\"button\"\r\n            aria-label=\"Закрыть окно\"\r\n          ></button>\r\n        </form>\r\n      </section>\r\n    );\r\n  }\r\n);\r\n\r\nexport default PopupWithForm;\r\n","import React, { createRef, useContext, useEffect } from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport { useFormWithValidation } from '../hooks/useFormWithValidation';\r\nimport PopupInput from './PopupInput';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser, isSending }) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n  const checkValidity = createRef();\r\n  const {\r\n    values,\r\n    handleChange,\r\n    errors,\r\n    isValid,\r\n    setIsValid,\r\n    resetForm,\r\n  } = useFormWithValidation();\r\n\r\n  useEffect(() => {\r\n    setIsValid(checkValidity.current.checkValidity());\r\n  }, [setIsValid, checkValidity]);\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onUpdateUser(values);\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (currentUser) {\r\n      resetForm(currentUser);\r\n    }\r\n  }, [currentUser, resetForm, isOpen]);\r\n\r\n  return (\r\n    <PopupWithForm\r\n      ref={checkValidity}\r\n      name=\"edit-profile\"\r\n      title=\"Редактировать профиль\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      isValid={isValid}\r\n      buttonText={isSending ? 'Сохранение...' : 'Сохранить'}\r\n    >\r\n      <PopupInput\r\n        value={values.name}\r\n        changeValue={handleChange}\r\n        className=\"popup__input_type_profile-name\"\r\n        name=\"name\"\r\n        type=\"text\"\r\n        placeholder=\"Ваше имя\"\r\n        required\r\n        minLength=\"2\"\r\n        maxLength=\"40\"\r\n        autoComplete=\"off\"\r\n        validationMessage={errors.name}\r\n      />\r\n      <PopupInput\r\n        value={values.about}\r\n        changeValue={handleChange}\r\n        className=\"popup__input_type_profile-status\"\r\n        name=\"about\"\r\n        type=\"text\"\r\n        placeholder=\"Профессия\"\r\n        required\r\n        minLength=\"2\"\r\n        maxLength=\"200\"\r\n        autoComplete=\"off\"\r\n        validationMessage={errors.about}\r\n      />\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import React, { useEffect } from 'react';\r\nimport PopupInput from './PopupInput';\r\nimport { useFormWithValidation } from '../hooks/useFormWithValidation';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar, isSending }) {\r\n  const {\r\n    values,\r\n    handleChange,\r\n    errors,\r\n    isValid,\r\n    resetForm,\r\n  } = useFormWithValidation();\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onUpdateAvatar(values);\r\n  }\r\n\r\n  useEffect(() => {\r\n    resetForm();\r\n  }, [resetForm, isOpen]);\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"avatar-change\"\r\n      title=\"Обновить аватар\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      isValid={isValid}\r\n      buttonText={isSending ? 'Сохранение...' : 'Сохранить'}\r\n    >\r\n      <PopupInput\r\n        value={values.avatar}\r\n        changeValue={handleChange}\r\n        className=\"popup__input_type_place-image\"\r\n        name=\"avatar\"\r\n        type=\"url\"\r\n        placeholder=\"Ссылка на картинку\"\r\n        required\r\n        autoComplete=\"off\"\r\n        validationMessage={errors.avatar}\r\n      />\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","import React, { useEffect } from 'react';\r\nimport { useFormWithValidation } from '../hooks/useFormWithValidation';\r\nimport PopupInput from './PopupInput';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace, isSending }) {\r\n  const {\r\n    values,\r\n    handleChange,\r\n    errors,\r\n    isValid,\r\n    resetForm,\r\n  } = useFormWithValidation();\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onAddPlace(values);\r\n  }\r\n\r\n  useEffect(() => {\r\n    resetForm();\r\n  }, [resetForm, isOpen]);\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"add-places\"\r\n      title=\"Новое место\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      isValid={isValid}\r\n      buttonText={isSending ? 'Сохранение...' : 'Сохранить'}\r\n    >\r\n      <PopupInput\r\n        value={values.name}\r\n        changeValue={handleChange}\r\n        className=\"popup__input_type_places-name\"\r\n        name=\"name\"\r\n        type=\"text\"\r\n        placeholder=\"Название\"\r\n        required\r\n        minLength=\"1\"\r\n        maxLength=\"30\"\r\n        autoComplete=\"off\"\r\n        validationMessage={errors.name}\r\n      />\r\n      <PopupInput\r\n        value={values.link}\r\n        changeValue={handleChange}\r\n        className=\"popup__input_type_place-image\"\r\n        name=\"link\"\r\n        type=\"url\"\r\n        placeholder=\"Ссылка на картинку\"\r\n        required\r\n        autoComplete=\"off\"\r\n        validationMessage={errors.link}\r\n      />\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","import React, { useEffect, useState } from 'react';\r\nimport Header from './Header';\r\nimport Main from './Main';\r\nimport Footer from './Footer';\r\nimport ImagePopup from './ImagePopup';\r\nimport api from '../utils/api';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction App() {\r\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = useState(false);\r\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = useState(false);\r\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = useState(false);\r\n  const [selectedCard, setSelectedCard] = useState({});\r\n  const [currentUser, setCurrentUser] = useState({});\r\n  const [cards, setCards] = useState([]);\r\n  const [cardDelete, setCardDelete] = useState({});\r\n  const [isDeletteReqPopupOpen, setIsDeletteReqPopupOpen] = useState(false);\r\n  const [isCardsLoading, setIsCardsLoading] = useState(false);\r\n  const [isDataSending, setDataSending] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setIsCardsLoading(true);\r\n    api\r\n      .getInitialCards()\r\n      .then((cardElements) => setCards(cardElements))\r\n      .catch((err) => console.error(err))\r\n      .finally(() => setIsCardsLoading(false));\r\n  }, []);\r\n\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n    api\r\n      .changeLikeCardStatus(card._id, !isLiked)\r\n      .then((newCard) => {\r\n        const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\r\n        setCards(newCards);\r\n      })\r\n      .catch((err) => console.error(err));\r\n  }\r\n\r\n  function handleCardDeleteRequest(card) {\r\n    setCardDelete(card);\r\n    setIsDeletteReqPopupOpen(true);\r\n  }\r\n\r\n  function handleCardDelete(e) {\r\n    setDataSending(true);\r\n    e.preventDefault();\r\n    api\r\n      .removeCard(cardDelete._id)\r\n      .then(() => {\r\n        const newCards = cards.filter((c) => c !== cardDelete);\r\n        setCards(newCards);\r\n      })\r\n      .then(() => setIsDeletteReqPopupOpen(false))\r\n      .finally(() => setDataSending(false));\r\n  }\r\n\r\n  useEffect(() => {\r\n    api\r\n      .getUserInfo()\r\n      .then((user) => setCurrentUser(user))\r\n      .catch((err) => console.error(err));\r\n  }, []);\r\n\r\n  function handleEditAvatarClick() {\r\n    setEditAvatarPopupOpen(true);\r\n  }\r\n\r\n  function handleEditProfileClick() {\r\n    setEditProfilePopupOpen(true);\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    setAddPlacePopupOpen(true);\r\n  }\r\n\r\n  function handleCardClick(card) {\r\n    setSelectedCard({ ...card, isOpen: true });\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    setEditProfilePopupOpen(false);\r\n    setAddPlacePopupOpen(false);\r\n    setEditAvatarPopupOpen(false);\r\n    setSelectedCard({});\r\n    setIsDeletteReqPopupOpen(false);\r\n  }\r\n\r\n  function handleUpdateUser(user) {\r\n    setDataSending(true);\r\n    api\r\n      .setUserInfo(user)\r\n      .then((update) => setCurrentUser(update))\r\n      .then(() => closeAllPopups())\r\n      .finally(() => setDataSending(false));\r\n  }\r\n\r\n  function handleUpdateAvatar(avatar) {\r\n    setDataSending(true);\r\n    api\r\n      .changeAvatar(avatar)\r\n      .then((update) => setCurrentUser(update))\r\n      .then(() => closeAllPopups())\r\n      .finally(() => setDataSending(false));\r\n  }\r\n\r\n  function handleAddPlaceSubmit(card) {\r\n    setDataSending(true);\r\n    api\r\n      .addCard(card)\r\n      .then((update) => setCards([update, ...cards]))\r\n      .then(() => closeAllPopups())\r\n      .finally(() => setDataSending(false));\r\n  }\r\n\r\n  useEffect(() => {\r\n    function escFunction(e) {\r\n      if (e.keyCode === 27) closeAllPopups();\r\n    }\r\n    document.addEventListener('keydown', escFunction);\r\n\r\n    return () => {\r\n      document.removeEventListener('keydown', escFunction);\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"root\">\r\n      <div className=\"page\">\r\n        <CurrentUserContext.Provider value={currentUser}>\r\n          <Header />\r\n          <Main\r\n            onEditAvatar={handleEditAvatarClick}\r\n            onEditProfile={handleEditProfileClick}\r\n            onAddPlace={handleAddPlaceClick}\r\n            onCardClick={handleCardClick}\r\n            cards={cards}\r\n            onCardLike={handleCardLike}\r\n            onCardDelete={handleCardDeleteRequest}\r\n            isCardsLoading={isCardsLoading}\r\n          />\r\n          <Footer />\r\n\r\n          <EditAvatarPopup\r\n            isSending={isDataSending}\r\n            isOpen={isEditAvatarPopupOpen}\r\n            onClose={closeAllPopups}\r\n            onUpdateAvatar={handleUpdateAvatar}\r\n          />\r\n\r\n          <EditProfilePopup\r\n            isSending={isDataSending}\r\n            isOpen={isEditProfilePopupOpen}\r\n            onClose={closeAllPopups}\r\n            onUpdateUser={handleUpdateUser}\r\n          />\r\n\r\n          <AddPlacePopup\r\n            isSending={isDataSending}\r\n            isOpen={isAddPlacePopupOpen}\r\n            onClose={closeAllPopups}\r\n            onAddPlace={handleAddPlaceSubmit}\r\n          />\r\n\r\n          <ImagePopup card={selectedCard} onClose={closeAllPopups} />\r\n\r\n          <PopupWithForm\r\n            isEnabled=\"true\"\r\n            name=\"card-delete\"\r\n            title=\"Вы уверены?\"\r\n            isOpen={isDeletteReqPopupOpen}\r\n            onClose={closeAllPopups}\r\n            onSubmit={handleCardDelete}\r\n            buttonText={isDataSending ? 'Удаление...' : 'Да'}\r\n          />\r\n        </CurrentUserContext.Provider>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport * as serviceWorker from './serviceWorker';\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","module.exports = __webpack_public_path__ + \"static/media/logo.855a8c98.svg\";"],"sourceRoot":""}